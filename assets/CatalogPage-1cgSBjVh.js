import{j as e,c as m,L as M,s as N,u as v,a as L,b as d,d as P,M as $,R as H,e as O,f as w,g as A,r as g,h as V,i as z,k as D,l as G,m as U,n as K,C as W,o as J}from"./index-D8u1HE-S.js";import{C as Q,B as X,a as B,u as Y,S as Z}from"./index.esm-BNhOtH8i.js";import{L as ee}from"./LinkButton-DvuuazEc.js";const te="_loadMoreBtn_g03y4_33",se={loadMoreBtn:te},ne=({onClick:t,className:s="",isLoading:n})=>e.jsx("button",{type:"button",className:m(se.loadMoreBtn,s),onClick:t,children:n?e.jsx(M,{type:"button"}):"Load more"}),oe="_itemImage_xfi89_33",ae={itemImage:oe},ce=({className:t=null,imgUrl:s,imgAlt:n})=>e.jsx("img",{src:s,alt:n,className:m(ae.itemImage,t),width:"292",height:"320",loading:"lazy"}),ie="_namePriceHeartContainer_1slaa_33",le="_itemName_1slaa_39",re="_priceHeartContainer_1slaa_60",me="_itemPrice_1slaa_66",ue="_heartCheckbox_1slaa_79",pe="_heartCheckboxIcon_1slaa_86",_e="_checked_1slaa_104",r={namePriceHeartContainer:ie,itemName:le,priceHeartContainer:re,itemPrice:me,heartCheckbox:ue,heartCheckboxIcon:pe,checked:_e},de=({id:t,name:s,price:n,onChange:o,isSelected:a,className:l})=>e.jsxs("div",{className:m(r.namePriceHeartContainer,l),children:[e.jsx("h2",{className:r.itemName,children:s}),e.jsxs("div",{className:r.priceHeartContainer,children:[e.jsxs("p",{className:r.itemPrice,children:["â‚¬",n.toFixed(2)]}),e.jsxs("label",{className:r.checkboxContainer,children:[e.jsx("input",{type:"checkbox",name:"selected",onChange:()=>o(t),checked:a,className:r.heartCheckbox}),e.jsx("svg",{className:m(r.heartCheckboxIcon,a&&r.checked),children:e.jsx("use",{href:N+"#heart"})})]})]})]}),he="_catalogItemContainer_17m1o_33",xe="_detailsContainer_17m1o_51",be="_camperNamePriceHeart_17m1o_64",je="_description_17m1o_71",ge="_showMoreBtn_17m1o_83",_={catalogItemContainer:he,detailsContainer:xe,camperNamePriceHeart:be,description:je,showMoreBtn:ge},Ne=({camper:t})=>{const{id:s,name:n,price:o,rating:a,location:l,description:c,reviews:u}=t,p=v(),{isMobile:h}=L(),k=d(P).includes(s),y=E=>p(O(E)),F=t.gallery[0].thumb;return e.jsxs("div",{className:_.catalogItemContainer,children:[e.jsx(ce,{imgUrl:F,imgAlt:n,className:_.camperImg}),e.jsxs("div",{className:_.detailsContainer,children:[e.jsxs("div",{children:[e.jsx(de,{id:s,price:o,name:n,onChange:y,isSelected:k,className:_.camperNamePriceHeart}),e.jsx(Q,{rating:a,location:l,reviewsCount:u.length})]}),!h&&e.jsx("p",{className:_.description,children:c}),e.jsx(X,{advantageKeys:$,camperData:t}),e.jsx(ee,{text:"Show more",linkTo:H.CATALOG+`/${s}`,className:_.showMoreBtn})]})]})},Ce="_catalogList_xcfsi_33",fe="_catalogListSection_xcfsi_51",T={catalogList:Ce,catalogListSection:fe},ke=({children:t})=>{const s=d(w);return e.jsxs("section",{className:T.catalogListSection,children:[e.jsx("ul",{className:T.catalogList,children:s.map(n=>e.jsx("li",{children:e.jsx(Ne,{camper:n})},n.id))}),t]})},ye="_equipmentCheckbox_u321f_33",Ie="_customEquipmentCheckbox_u321f_40",ve="_customEquipmentCheckboxIcon_u321f_65",Be="_customEquipmentCheckboxName_u321f_85",b={equipmentCheckbox:ye,customEquipmentCheckbox:Ie,customEquipmentCheckboxIcon:ve,customEquipmentCheckboxName:Be},Te=({item:t,value:s,onChange:n})=>e.jsxs("label",{className:b.equipmentCheckboxLabel,children:[e.jsx("input",{className:b.equipmentCheckbox,type:"checkbox",name:"equipment",value:t==="transmission"?"automatic":"true",checked:t==="transmission"?s==="automatic":!!s,onChange:o=>n(o.target.checked?o.target.value:"")}),e.jsxs("span",{className:b.customEquipmentCheckbox,children:[e.jsx("svg",{className:b.customEquipmentCheckboxIcon,children:e.jsx("use",{href:N+`#${t}`})}),e.jsx("span",{className:b.customEquipmentCheckboxName,children:t==="transmission"?"automatic":t})]})]}),qe="_typeRadio_1j698_33",Se="_customTypeRadio_1j698_40",Le="_customTypeRadioIcon_1j698_65",Re="_customTypeRadioName_1j698_85",j={typeRadio:qe,customTypeRadio:Se,customTypeRadioIcon:Le,customTypeRadioName:Re},Fe=({type:t,value:s,onChange:n})=>e.jsxs("label",{className:j.typeRadioLabel,children:[e.jsx("input",{className:j.typeRadio,type:"radio",name:"vehicleType",value:t,checked:s===t,onChange:o=>{n(o.target.checked?t:"")}}),e.jsxs("span",{className:j.customTypeRadio,children:[e.jsx("svg",{className:j.customTypeRadioIcon,children:e.jsx("use",{href:N+`#${t}`})}),e.jsx("span",{className:j.customTypeRadioName,children:t==="fullyIntegrated"?"Fully Integrated":t})]})]}),Ee="_locationInputLabel_kry3n_33",Me="_inputTitle_kry3n_38",Pe="_cityInput_kry3n_46",$e="_inputIcon_kry3n_74",C={locationInputLabel:Ee,inputTitle:Me,cityInput:Pe,inputIcon:$e},He=({field:t,className:s=null})=>e.jsxs("label",{className:m(C.locationInputLabel,s),children:[e.jsx("span",{className:C.inputTitle,children:"Location"}),e.jsx("input",{type:"text",placeholder:"City",...t,className:C.cityInput,autoComplete:"off"}),e.jsx("svg",{className:C.inputIcon,children:e.jsx("use",{href:N+"#map"})})]}),Oe="_filterBlockName_1kobf_33",we="_equipmentOptions_1kobf_49",q={filterBlockName:Oe,equipmentOptions:we},Ae=({control:t,className:s=null})=>e.jsxs("div",{className:s,children:[e.jsx("p",{className:q.filterBlockName,children:"Vehicle equipment"}),e.jsx("div",{className:q.equipmentOptions,children:["AC","transmission","kitchen","TV","bathroom"].map(n=>e.jsx(B,{name:n,control:t,render:({field:{value:o,onChange:a}})=>e.jsx(Te,{item:n,value:o,onChange:a})},n))})]}),Ve="_filterBlockName_s9eah_33",ze="_typeOptions_s9eah_49",S={filterBlockName:Ve,typeOptions:ze},De=({control:t,className:s=null})=>e.jsxs("div",{className:s,children:[e.jsx("p",{className:S.filterBlockName,children:"Vehicle type"}),e.jsx("div",{className:S.typeOptions,children:["van","fullyIntegrated","alcove"].map(n=>e.jsx(B,{name:"form",control:t,render:({field:{value:o,onChange:a}})=>e.jsx(Fe,{type:n,value:o,onChange:a})},n))})]}),Ge=({control:t,className:s=null})=>e.jsx("div",{className:s,children:e.jsx(B,{name:"location",control:t,render:({field:n})=>e.jsx(He,{field:n})})}),Ue="_filtersSection_vbyg8_34",Ke="_open_vbyg8_41",We="_filterForm_vbyg8_47",Je="_locationFilter_vbyg8_67",Qe="_filtersTitle_vbyg8_76",Xe="_vehicleEquipments_vbyg8_88",Ye="_vehicleTypes_vbyg8_97",Ze="_responsiveSubBtn_vbyg8_107",i={filtersSection:Ue,open:Ke,filterForm:We,locationFilter:Je,filtersTitle:Qe,vehicleEquipments:Xe,vehicleTypes:Ye,responsiveSubBtn:Ze},et=({className:t=null,isOpen:s=null,onClose:n=null,filtersBtnRef:o=null})=>{const a=d(A),l=g.useRef(null),{control:c,handleSubmit:u}=Y({defaultValues:a}),p=v(),h=x=>{p(z()),p(D(x)),n&&n()};return V(l,o,s,n),e.jsx("section",{className:m(i.filtersSection,s&&i.open,t),ref:l,children:e.jsxs("form",{onSubmit:u(h),className:m(i.filterForm,s&&i.open),children:[e.jsx(Ge,{control:c,className:i.locationFilter}),e.jsx("p",{className:i.filtersTitle,children:"Filters"}),e.jsx(Ae,{control:c,className:i.vehicleEquipments}),e.jsx(De,{control:c,className:i.vehicleTypes}),e.jsx(Z,{text:"Search",className:i.responsiveSubBtn})]})})},tt="_catalogContainer_z2nc4_33",st="_catalogFiltersBtn_z2nc4_45",nt="_loadMoreBtn_z2nc4_50",f={catalogContainer:tt,catalogFiltersBtn:st,loadMoreBtn:nt},ot=()=>{const[t,s]=g.useState(!1),n=v(),o=d(G),a=d(U),l=d(K),{isMobile:c,isTablet:u}=L(),p=g.useRef(null),h=()=>{n(J(o+1))},x=()=>s(y=>!y),k=g.useMemo(()=>c||u?{isOpen:t,onClose:x,filtersBtnRef:p}:{},[c,u,t]);return e.jsx("main",{children:e.jsxs(W,{className:f.catalogContainer,children:[(c||u)&&e.jsx(R,{className:f.catalogFiltersBtn,onClick:x,ref:p}),e.jsx(et,{className:c&&f.mobileFilterSection,...k}),e.jsx(ke,{children:o<a&&e.jsx(ne,{onClick:h,isLoading:l,className:f.loadMoreBtn})})]})})},at="_filtersButton_wq8or_33",ct="_buttonText_wq8or_44",it="_buttonIcon_wq8or_49",I={filtersButton:at,buttonText:ct,buttonIcon:it},R=g.forwardRef(({className:t=null,onClick:s},n)=>e.jsxs("button",{type:"button",className:m(I.filtersButton,t),onClick:s,ref:n,children:[e.jsx("p",{className:I.buttonText,children:"Set filters"}),e.jsx("svg",{className:I.buttonIcon,children:e.jsx("use",{href:N+"#filters"})})]}));R.displayName="FiltersButton";const ut=()=>e.jsx(ot,{});export{ut as default};
