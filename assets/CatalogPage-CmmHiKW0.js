import{j as e,c as r,s as u,u as k,a as _,M as S,R as P,b as T,d as q,C as y,e as O,r as b,f as g,g as A}from"./index-BjlnTDKw.js";import{C as F,B as M,u as H,a as j,S as E}from"./index.esm-DtVhivy6.js";import{L as V}from"./LinkButton-COhYXuYq.js";const w="_loadMoreBtn_1jlvi_25",W={loadMoreBtn:w},D=({funk:c,className:t=null})=>e.jsx("button",{type:"button",className:r(W.loadMoreBtn,t&&t),onClick:()=>c(),children:"Load more"}),z="_itemImage_jnd6l_25",G={itemImage:z},U=({className:c=null,imgUrl:t,imgAlt:s})=>e.jsx("img",{src:t,alt:s,className:r(G.itemImage,c&&c),width:"292"}),K="_namePriceHeartContainer_1et47_25",J="_itemName_1et47_31",Q="_priceHeartContainer_1et47_37",X="_itemPrice_1et47_43",Y="_checkbox_1et47_49",Z="_iconCheckbox_1et47_56",ee="_checked_1et47_66",n={namePriceHeartContainer:K,itemName:J,priceHeartContainer:Q,itemPrice:X,checkbox:Y,iconCheckbox:Z,checked:ee},ce=({id:c,name:t,price:s,func:o,isSelected:d})=>e.jsxs("div",{className:n.namePriceHeartContainer,children:[e.jsx("h2",{className:n.itemName,children:t}),e.jsxs("div",{className:n.priceHeartContainer,children:[e.jsxs("p",{className:n.itemPrice,children:["â‚¬",s.toFixed(2)]}),e.jsxs("label",{className:n.checkboxContainer,children:[e.jsx("input",{type:"checkbox",name:"selected",onChange:()=>o(c),checked:d,className:n.checkbox}),e.jsx("svg",{className:r(n.iconCheckbox,d&&n.checked),children:e.jsx("use",{href:u+"#heart"})})]})]})]}),te=c=>c.campers.items,se=c=>c.campers.selected,I=c=>c.campers.page,ae=c=>c.campers.totalPages,oe="_catalogItemContainer_a9a8s_25",ne="_detailsContainer_a9a8s_33",ie="_description_a9a8s_40",C={catalogItemContainer:oe,detailsContainer:ne,description:ie},le=({camper:c})=>{const{id:t,name:s,price:o,rating:d,location:a,description:h,reviews:x}=c,R=k(),L=_(se).includes(t),v=$=>R(T($)),B=c.gallery[0].thumb;return e.jsxs("div",{className:C.catalogItemContainer,children:[e.jsx(U,{imgUrl:B,imgAlt:s}),e.jsxs("div",{className:C.detailsContainer,children:[e.jsxs("div",{children:[e.jsx(ce,{id:t,price:o,name:s,func:v,isSelected:L}),e.jsx(F,{rating:d,location:a,reviewsCount:x.length})]}),e.jsx("p",{className:C.description,children:h}),e.jsx(M,{advantageKeys:S,camperData:c}),e.jsx(V,{text:"Show more",linkTo:P.CATALOG+`/${t}`})]})]})},re="_catalogList_rxuui_25",de="_catalogListSection_rxuui_29",N={catalogList:re,catalogListSection:de},me=()=>{const c=_(te);return e.jsx("section",{className:N.catalogListSection,children:e.jsx("ul",{className:N.catalogList,children:c.map(t=>e.jsx("li",{children:e.jsx(le,{camper:t})},t.id))})})},he="_checkboxRadio_1n9n4_25",xe="_customCheckboxRadio_1n9n4_32",_e="_checkboxRadioIcon_1n9n4_47",pe="_checkboxRadioName_1n9n4_53",ue="_checked_1n9n4_59",l={checkboxRadio:he,customCheckboxRadio:xe,checkboxRadioIcon:_e,checkboxRadioName:pe,checked:ue},ke=({item:c,value:t,onChange:s})=>e.jsxs("label",{className:l.checkboxRadioLabel,children:[e.jsx("input",{className:l.checkboxRadio,type:"checkbox",value:c==="transmission"?"automatic":!0,checked:c==="transmission"?t==="automatic":t,onChange:o=>{s(c==="transmission"?o.target.checked?"automatic":"":o.target.checked)}}),e.jsxs("span",{className:r(l.customCheckboxRadio,t==="automatic"&&l.checked||t&&l.checked),children:[e.jsx("svg",{className:l.checkboxRadioIcon,children:e.jsx("use",{href:u+`#${c}`})}),e.jsx("span",{className:l.checkboxRadioName,children:c==="transmission"?"automatic":c})]})]}),be="_checkboxRadio_1n9n4_25",je="_customCheckboxRadio_1n9n4_32",Ce="_checkboxRadioIcon_1n9n4_47",ge="_checkboxRadioName_1n9n4_53",Ne="_checked_1n9n4_59",m={checkboxRadio:be,customCheckboxRadio:je,checkboxRadioIcon:Ce,checkboxRadioName:ge,checked:Ne},fe=({type:c,value:t,onChange:s})=>e.jsxs("label",{className:m.checkboxRadioLabel,children:[e.jsx("input",{className:m.checkboxRadio,type:"radio",name:"typeOptions",value:c,checked:t===c,onChange:()=>s(c)}),e.jsxs("span",{className:r(m.customCheckboxRadio,t===c&&m.checked),children:[e.jsx("svg",{className:m.checkboxRadioIcon,children:e.jsx("use",{href:u+`#${c}`})}),e.jsx("span",{className:m.checkboxRadioName,children:c==="fullyIntegrated"?"Fully Integrated":c})]})]}),Ie="_locationLabel_1el5i_25",Re="_inputTitle_1el5i_29",Le="_locationInput_1el5i_37",ve="_inputIcon_1el5i_60",p={locationLabel:Ie,inputTitle:Re,locationInput:Le,inputIcon:ve},Be=({field:c,className:t=null})=>e.jsxs("label",{className:r(p.locationLabel,t&&t),children:[e.jsx("span",{className:p.inputTitle,children:"Location"}),e.jsx("input",{type:"text",placeholder:"City",...c,className:p.locationInput,autoComplete:"off"}),e.jsx("svg",{className:p.inputIcon,children:e.jsx("use",{href:u+"#map"})})]}),$e="_filterForm_11q3c_25",Se="_locationInput_11q3c_29",Pe="_filtersTitle_11q3c_33",Te="_filterBlockName_11q3c_40",qe="_equipmentOptions_11q3c_48",ye="_typeOptions_11q3c_57",i={filterForm:$e,locationInput:Se,filtersTitle:Pe,filterBlockName:Te,equipmentOptions:qe,typeOptions:ye},Oe=({className:c=null})=>{const{control:t,handleSubmit:s}=H({defaultValues:{location:"",AC:!1,transmission:"",kitchen:!1,TV:!1,bathroom:!1,form:""}}),o=k(),d=a=>{o(q(a))};return e.jsx("section",{className:i.filtersSection,children:e.jsxs("form",{onSubmit:s(d),className:r(i.filterForm,c&&c),children:[e.jsx(j,{name:"location",control:t,render:({field:a})=>e.jsx(Be,{field:a,className:i.locationInput})}),e.jsx("p",{className:i.filtersTitle,children:"Filters"}),e.jsxs("div",{children:[e.jsx("p",{className:i.filterBlockName,children:"Vehicle equipment"}),e.jsx("div",{className:i.equipmentOptions,children:["AC","transmission","kitchen","TV","bathroom"].map(a=>e.jsx(j,{name:a,control:t,render:({field:{value:h,onChange:x}})=>e.jsx(ke,{item:a,value:h,onChange:x})},a))})]}),e.jsxs("div",{children:[e.jsx("p",{className:i.filterBlockName,children:"Vehicle type"}),e.jsx("div",{className:i.typeOptions,children:["van","fullyIntegrated","alcove"].map(a=>e.jsx(j,{name:"form",control:t,render:({field:{value:h,onChange:x}})=>e.jsx(fe,{type:a,value:h,onChange:x})},a))})]}),e.jsx(E,{text:"Search"})]})})},Ae="_catalogContainer_bziov_25",Fe="_listButtonWrapper_bziov_32",f={catalogContainer:Ae,listButtonWrapper:Fe},Me=()=>{const c=k(),t=_(I),s=_(ae),o=()=>{c(O(t+1))};return e.jsx("main",{children:e.jsxs(y,{className:f.catalogContainer,children:[e.jsx(Oe,{}),e.jsxs("div",{className:f.listButtonWrapper,children:[e.jsx(me,{}),t<s&&e.jsx(D,{funk:o})]})]})})},We=()=>{const c=k(),t=_(I),s=b.useMemo(()=>({page:t}),[t]);return b.useEffect(()=>(c(g()),()=>{c(g())}),[c]),b.useEffect(()=>{c(A(s))},[c,s]),e.jsx(Me,{})};export{We as default};
