import{j as s,s as x,c as h,u as _,a as r,M as P,R as I,b as L,r as l,d as g,g as f,C as v,e as B}from"./index-DlMNBNbG.js";import{L as H}from"./LinkButton-CzFoUdgx.js";import{C as M}from"./CamperRatingLocation-BKU2qjWs.js";const A="_badge_1idk4_88",$="_badgeIcon_1idk4_98",z="_badgeName_1idk4_104",d={badge:A,badgeIcon:$,badgeName:z},E=({name:e,value:t})=>s.jsxs("div",{className:d.badge,children:[s.jsx("svg",{className:d.badgeIcon,children:s.jsx("use",{href:x+`#${e}`})}),s.jsx("p",{className:d.badgeName,children:typeof t=="string"?t:e})]}),S=(e,t)=>{const a={};return t.forEach(c=>{e[c]&&(a[c]=e[c])}),a},w="_badgesList_p8gmt_88",y={badgesList:w},T=({camperData:e,advantageKeys:t})=>{const a=S(e,t);return s.jsx("ul",{className:y.badgesList,children:Object.entries(a).map(([c,n])=>s.jsx("li",{children:s.jsx(E,{name:c,value:n})},c))})},R="_loadMoreBtn_jms1i_88",D={loadMoreBtn:R},O=({funk:e})=>s.jsx("button",{type:"button",className:D.loadMoreBtn,onClick:()=>e(),children:"Load more"}),G="_itemImage_12hco_88",K={itemImage:G},U=({className:e=null,imgUrl:t,imgAlt:a})=>s.jsx("img",{src:t,alt:a,className:h(K.itemImage,e&&e),width:"292"}),V="_namePriceHeartContainer_z3xjk_88",F="_itemName_z3xjk_94",q="_priceHeartContainer_z3xjk_100",J="_itemPrice_z3xjk_106",Q="_checkbox_z3xjk_112",W="_iconCheckbox_z3xjk_119",X="_checked_z3xjk_129",o={namePriceHeartContainer:V,itemName:F,priceHeartContainer:q,itemPrice:J,checkbox:Q,iconCheckbox:W,checked:X},Y=({id:e,name:t,price:a,func:c,isSelected:n})=>s.jsxs("div",{className:o.namePriceHeartContainer,children:[s.jsx("h2",{className:o.itemName,children:t}),s.jsxs("div",{className:o.priceHeartContainer,children:[s.jsxs("p",{className:o.itemPrice,children:["â‚¬",a.toFixed(2)]}),s.jsxs("label",{className:o.checkboxContainer,children:[s.jsx("input",{type:"checkbox",name:"selected",onChange:()=>c(e),checked:n,className:o.checkbox}),s.jsx("svg",{className:h(o.iconCheckbox,n&&o.checked),children:s.jsx("use",{href:x+"#heart"})})]})]})]}),Z=e=>e.campers.items,ee=e=>e.campers.selected,se=e=>e.campers.page,te=e=>e.campers.totalPages,ae="_catalogItemContainer_1cjhe_88",ce="_detailsContainer_1cjhe_97",ne="_description_1cjhe_104",m={catalogItemContainer:ae,detailsContainer:ce,description:ne},oe=({camper:e})=>{const{id:t,name:a,price:c,rating:n,location:i,description:j,reviews:p}=e,C=_(),u=r(ee).includes(t),b=k=>C(L(k)),N=e.gallery[0].thumb;return s.jsxs("div",{className:m.catalogItemContainer,children:[s.jsx(U,{imgUrl:N,imgAlt:a}),s.jsxs("div",{className:m.detailsContainer,children:[s.jsxs("div",{children:[s.jsx(Y,{id:t,price:c,name:a,func:b,isSelected:u}),s.jsx(M,{rating:n,location:i,reviewsCount:p.length})]}),s.jsx("p",{className:m.description,children:j}),s.jsx(T,{advantageKeys:P,camperData:e}),s.jsx(H,{text:"Show more",linkTo:I.CATALOG+`/${t}`})]})]})},ie="_catalogList_9aru7_88",re={catalogList:ie},le=({campersList:e})=>s.jsx("ul",{className:re.catalogList,children:e.map(t=>s.jsx("li",{children:s.jsx(oe,{camper:t})},t.id))}),de="_catalogPageContainer_1h3sk_88",me={catalogPageContainer:de},je=()=>{const e=_(),t=r(Z),a=r(se),c=r(te),n=()=>{e(B(a+1))},i=l.useMemo(()=>({page:a}),[a]);return l.useEffect(()=>(e(g()),()=>{e(g())}),[e]),l.useEffect(()=>{e(f(i))},[e,i]),s.jsxs(v,{className:me.catalogPageContainer,children:[s.jsx("div",{style:{width:"360px",minHeight:"100vh"}}),s.jsxs("div",{children:[s.jsx(le,{campersList:t}),a<c&&s.jsx(O,{funk:n})]})]})};export{je as default};
