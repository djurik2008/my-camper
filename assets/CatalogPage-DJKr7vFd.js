import{j as e,s as d,c as _,u as j,a as l,M as L,R as P,b as v,r as m,d as h,g as f,C as $,e as B}from"./index-63p3AgXt.js";import{L as H}from"./LinkButton-CeicIoaX.js";const M="_badge_1idk4_88",A="_badgeIcon_1idk4_98",z="_badgeName_1idk4_104",g={badge:M,badgeIcon:A,badgeName:z},E=({name:s,value:t})=>e.jsxs("div",{className:g.badge,children:[e.jsx("svg",{className:g.badgeIcon,children:e.jsx("use",{href:d+`#${s}`})}),e.jsx("p",{className:g.badgeName,children:typeof t=="string"?t:s})]}),S=(s,t)=>{const a={};return t.forEach(c=>{s[c]&&(a[c]=s[c])}),a},w="_badgesList_p8gmt_88",y={badgesList:w},R=({camperData:s,advantageKeys:t})=>{const a=S(s,t);return e.jsx("ul",{className:y.badgesList,children:Object.entries(a).map(([c,n])=>e.jsx("li",{children:e.jsx(E,{name:c,value:n})},c))})},T="_loadMoreBtn_jms1i_88",D={loadMoreBtn:T},O=({funk:s})=>e.jsx("button",{type:"button",className:D.loadMoreBtn,onClick:()=>s(),children:"Load more"}),q="_itemImage_12hco_88",G={itemImage:q},K=({className:s=null,imgUrl:t,imgAlt:a})=>e.jsx("img",{src:t,alt:a,className:_(G.itemImage,s&&s),width:"292px"}),U="_namePriceHeartContainer_z3xjk_88",V="_itemName_z3xjk_94",F="_priceHeartContainer_z3xjk_100",J="_itemPrice_z3xjk_106",Q="_checkbox_z3xjk_112",W="_iconCheckbox_z3xjk_119",X="_checked_z3xjk_129",o={namePriceHeartContainer:U,itemName:V,priceHeartContainer:F,itemPrice:J,checkbox:Q,iconCheckbox:W,checked:X},Y=({id:s,name:t,price:a,func:c,isSelected:n})=>e.jsxs("div",{className:o.namePriceHeartContainer,children:[e.jsx("h2",{className:o.itemName,children:t}),e.jsxs("div",{className:o.priceHeartContainer,children:[e.jsxs("p",{className:o.itemPrice,children:["â‚¬",a.toFixed(2)]}),e.jsxs("label",{className:o.checkboxContainer,children:[e.jsx("input",{type:"checkbox",name:"selected",onChange:()=>c(s),checked:n,className:o.checkbox}),e.jsx("svg",{className:_(o.iconCheckbox,n&&o.checked),children:e.jsx("use",{href:d+"#heart"})})]})]})]}),Z="_ratingLocationContainer_1q4oc_88",ee="_ratingIcon_1q4oc_112",i={ratingLocationContainer:Z,ratingIcon:ee},se=({rating:s,location:t,reviewsCount:a})=>e.jsxs("div",{className:i.ratingLocationContainer,children:[e.jsxs("p",{className:i.rating,children:[e.jsx("svg",{className:i.ratingIcon,children:e.jsx("use",{href:d+"#star"})}),s+`(${a} Reviews)`]}),e.jsxs("p",{className:i.location,children:[e.jsx("svg",{className:i.locationIcon,children:e.jsx("use",{href:d+"#map"})}),t]})]}),te=s=>s.campers.items,ae=s=>s.campers.selected,ce=s=>s.campers.page,ne=s=>s.campers.totalPages,oe="_catalogItemContainer_1cjhe_88",ie="_detailsContainer_1cjhe_97",re="_description_1cjhe_104",x={catalogItemContainer:oe,detailsContainer:ie,description:re},le=({camper:s})=>{const{id:t,name:a,price:c,rating:n,location:r,description:p,reviews:C}=s,u=j(),N=l(ae).includes(t),b=I=>u(v(I)),k=s.gallery[0].thumb;return e.jsxs("div",{className:x.catalogItemContainer,children:[e.jsx(K,{imgUrl:k,imgAlt:a}),e.jsxs("div",{className:x.detailsContainer,children:[e.jsxs("div",{children:[e.jsx(Y,{id:t,price:c,name:a,func:b,isSelected:N}),e.jsx(se,{rating:n,location:r,reviewsCount:C.length})]}),e.jsx("p",{className:x.description,children:p}),e.jsx(R,{advantageKeys:L,camperData:s}),e.jsx(H,{text:"Show more",linkTo:P.CATALOG+`/${t}`})]})]})},de="_catalogList_9aru7_88",me={catalogList:de},ge=({campersList:s})=>e.jsx("ul",{className:me.catalogList,children:s.map(t=>e.jsx("li",{children:e.jsx(le,{camper:t})},t.id))}),xe="_catalogPageContainer_1h3sk_88",he={catalogPageContainer:xe},Ce=()=>{const s=j(),t=l(te),a=l(ce),c=l(ne),n=()=>{s(B(a+1))},r=m.useMemo(()=>({page:a}),[a]);return m.useEffect(()=>(s(h()),()=>{s(h())}),[s]),m.useEffect(()=>{s(f(r))},[s,r]),e.jsxs($,{className:he.catalogPageContainer,children:[e.jsx("div",{style:{width:"360px",minHeight:"100vh"}}),e.jsxs("div",{children:[e.jsx(ge,{campersList:t}),a<c&&e.jsx(O,{funk:n})]})]})};export{Ce as default};
